/*! dashboard-gauge 2015-11-27 */
function Gauge(a,b){var c=this;c.options=b,c.counter=0,c.canvas=document.createElement("canvas"),c.canvas.id=a+"Gauge",c.canvas.style.width=c.options.width,c.canvas.style.height=c.options.height,document.getElementById(a).appendChild(c.canvas),c.canvas.width=c.canvas.offsetWidth,c.canvas.height=c.canvas.offsetHeight,c.ctx=c.canvas.getContext("2d"),c.drawBackground=function(){c.ctx.beginPath(),c.ctx.strokeStyle=c.options.backgroundColor,c.ctx.lineWidth=20,c.ctx.arc(c.canvas.width/2,c.canvas.height/1.5,100,Math.PI,0,!1),c.ctx.stroke()},c.drawCounter=function(a){console.log("drawing counter");var b;b="undefined"!=typeof a?a:c.counter,c.ctx.fillStyle=c.options.color,c.ctx.font="50px arial",c.ctx.textAlign="center",c.ctx.textBaseline="middle",c.ctx.fillText(b,c.canvas.width/2,c.canvas.height/1.5)},c.clear=function(){c.ctx.clearRect(0,0,c.canvas.width,c.canvas.height)},c.update=function(a){c.newStat=a;var b=Math.abs(c.counter-c.newStat);c.stepInterval=setInterval(c.step,1e3/b)},c.step=function(){c.counter==c.newStat?clearInterval(c.stepInterval):(c.counter<c.newStat?c.counter++:c.counter--,c.counter>c.options.max?(clearInterval(c.stepInterval),c.clear(),c.drawBackground(),c.drawFill(c.options.max),c.drawCounter(c.options.max+"+")):c.animateStep())},c.animateStep=function(){c.clear(),c.drawBackground(),c.drawFill(),c.drawCounter()},c.drawFill=function(a){var b;b="undefined"!=typeof a?a:c.counter;var d=b*(180/c.options.max),e=d*Math.PI/180;c.ctx.beginPath(),c.ctx.strokeStyle=c.options.color,c.ctx.lineWidth=20,c.ctx.arc(c.canvas.width/2,c.canvas.height/1.5,100,Math.PI,e+Math.PI,!1),c.ctx.stroke()},c.drawBackground(),c.drawCounter()}